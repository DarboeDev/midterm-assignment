<div
  class="min-h-screen flex items-center justify-center bg-gray-100 p-4 font-inter"
>
  <!-- Modal for messages -->
  <div
    *ngIf="message"
    class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4"
  >
    <div
      [ngClass]="{
        'bg-green-100 text-green-800 border-green-400':
          messageType === 'success',
        'bg-red-100 text-red-800 border-red-400': messageType === 'error'
      }"
      class="relative border px-6 py-4 rounded-xl shadow-lg w-full max-w-sm mx-auto animate-fade-in"
    >
      <strong class="font-bold">{{
        messageType === "success" ? "Success!" : "Error!"
      }}</strong>
      <span class="block sm:inline ml-2">{{ message }}</span>
      <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
        <button
          title="Close"
          (click)="closeModal()"
          class="text-current hover:text-opacity-75 focus:outline-none"
        >
          <svg
            class="fill-current h-6 w-6"
            role="button"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
          >
            <title>Close</title>
            <path
              d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.697l-2.651 2.652a1.2 1.2 0 1 1-1.697-1.697L8.303 10 5.651 7.348a1.2 1.2 0 1 1 1.697-1.697L10 8.303l2.651-2.652a1.2 1.2 0 0 1 1.697 1.697L11.697 10l2.651 2.651a1.2 1.2 0 0 1 0 1.698z"
            />
          </svg>
        </button>
      </span>
    </div>
  </div>

  <div
    class="bg-white p-8 md:p-10 rounded-3xl shadow-2xl w-full max-w-md animate-fade-in"
  >
    <h2
      class="text-4xl font-bold text-center text-gray-800 mb-8 tracking-tight"
    >
      {{ isLogin ? "Sign In" : "Sign Up" }}
    </h2>
    <form (ngSubmit)="onSubmit()">
      <!-- Full Name for Registration -->
      <div *ngIf="!isLogin" class="mb-5">
        <label
          for="fullName"
          class="block text-sm font-semibold text-gray-700 mb-2"
          >Full Name</label
        >
        <input
          type="text"
          id="fullName"
          name="fullName"
          [(ngModel)]="fullName"
          placeholder="John Doe"
          required
          class="mt-1 block w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base transition duration-150 ease-in-out"
        />
      </div>

      <!-- Email Address -->
      <div class="mb-5">
        <label
          for="email"
          class="block text-sm font-semibold text-gray-700 mb-2"
          >Email Address</label
        >
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="email"
          placeholder="email@example.com"
          required
          class="mt-1 block w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base transition duration-150 ease-in-out"
        />
      </div>

      <!-- Password -->
      <div class="mb-5">
        <label
          for="password"
          class="block text-sm font-semibold text-gray-700 mb-2"
          >Password</label
        >
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="password"
          placeholder="********"
          required
          class="mt-1 block w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base transition duration-150 ease-in-out"
        />
      </div>

      <!-- Role Selection for Registration -->
      <div *ngIf="!isLogin" class="mb-6 relative select-with-arrow">
        <label for="role" class="block text-sm font-semibold text-gray-700 mb-2"
          >Role (Default: Viewer)</label
        >
        <select
          id="role"
          name="role"
          [(ngModel)]="role"
          class="mt-1 block w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base transition duration-150 ease-in-out bg-white"
        >
          <option value="viewer">Viewer</option>
          <option value="editor">Editor</option>
          <option value="admin">Admin</option>
        </select>
      </div>

      <button
        type="submit"
        class="w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold py-3.5 px-6 rounded-xl shadow-lg transform transition duration-300 ease-in-out hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-70 flex items-center justify-center text-lg"
      >
        <!-- SVG Icons -->
        <svg
          *ngIf="isLogin"
          class="h-6 w-6 mr-3"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
          <polyline points="10 17 15 12 10 7" />
          <line x1="15" y1="12" x2="3" y2="12" />
        </svg>
        <svg
          *ngIf="!isLogin"
          class="h-6 w-6 mr-3"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <line x1="19" y1="8" x2="19" y2="14" />
          <line x1="22" y1="11" x2="16" y2="11" />
        </svg>
        {{ isLogin ? "Login" : "Register" }}
      </button>
    </form>
    <div class="mt-8 text-center">
      <button
        (click)="toggleAuthMode()"
        class="text-blue-700 hover:text-blue-900 font-semibold transition duration-150 ease-in-out text-base"
      >
        {{
          isLogin
            ? "Don't have an account? Sign Up"
            : "Already have an account? Sign In"
        }}
      </button>
    </div>
  </div>
</div>
